<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ToDo List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="mx-auto bg-white p-6 rounded-lg shadow-lg">
      <h1 class="text-2xl font-bold mb-4">ToDo List</h1>
    </div>

    <div class="flex mb-4">
      <input
        id="todoInput"
        type="text"
        class="flex-grow border border-gray-300 p-2 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="添加新的待办事项"
      />
      <button
        id="addTodoBtn"
        class="bg-blue-500 text-white px-4 rounded-r-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        添加
      </button>
    </div>

    <ul id="todoList" class="space-y-2"></ul>

    <script>
      // 1. 获取元素
      const todoInput = document.getElementById('todoInput');
      const addTodoBtn = document.getElementById('addTodoBtn');
      const todoList = document.getElementById('todoList');

      addTodoBtn.addEventListener('click', function () {
        const todoText = todoInput.value.trim();
        if (todoText !== '') {
          addTodoItem(todoText);
          todoInput.value = '';
        }
      });

      function addTodoItem(text) {
        const li = document.createElement('li');
        li.className =
          'flex items-center justify-between bg-gray-100 p-2 rounded-lg';
        const span = document.createElement('span');
        span.textContent = text;
        li.appendChild(span);

        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.className =
          'bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600';
        deleteBtn.addEventListener('click', function () {
          todoList.removeChild(li);
        });
        li.appendChild(deleteBtn);
        const completeBtn = document.createElement('button');
        completeBtn.textContent = '完成';
        completeBtn.className =
          'bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600';
        completeBtn.addEventListener('click', function () {
          li.classList.toggle('line-through');
        });
        li.appendChild(completeBtn);
        todoList.appendChild(li);
      }
    </script>
  </body>
</html>
